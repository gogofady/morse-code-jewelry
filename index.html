<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Gleam & Co. | Morse Code Jewelry</title>

    <!-- Load Tailwind CSS from CDN -->

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Load React, ReactDOM, and Babel from CDNs -->

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>

    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>

        /* Hide the flashing 'App' text before React loads */

        #root { opacity: 0; transition: opacity 0.5s; }

        #root.loaded { opacity: 1; }

    </style>

</head>

<body>

    <div id="root"></div>



    <!-- 1. Load the Firebase SDKs (Required for authentication and database operations) -->

    <script type="module">
// ------------------------------
// FIREBASE INITIALIZATION
// ------------------------------
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

// Your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyBPFHirKiLqk8gmt1QGEStM5HfTJvIZw8",
  authDomain: "morse-code-jewelry.firebaseapp.com",
  projectId: "morse-code-jewelry",
  storageBucket: "morse-code-jewelry.appspot.com",
  messagingSenderId: "1034331508828",
  appId: "1:1034331508828:web:08acf02e2363000e99d6d9",
  measurementId: "G-C4WH6XN1IZ"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// Sign-in anonymously (required for Firestore)
let userId = null;
signInAnonymously(auth)
  .then((cred) => {
    userId = cred.user.uid;
    console.log("Anonymous user signed in:", userId);
  })
  .catch((error) => {
    console.error("Firebase Auth Error:", error);
  });

// Export for use in other functions
window.db = db;
window.userId = userId;

        // Import all necessary Firebase modules

        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";

        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        import { getFirestore, collection, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

       

        // Define global variables so the React component can access them via the window object

        window.initializeApp = initializeApp;

        window.getAuth = getAuth;

        window.signInAnonymously = signInAnonymously;

        window.signInWithCustomToken = signInWithCustomToken;

        window.onAuthStateChanged = onAuthStateChanged;

        window.getFirestore = getFirestore;

        window.collection = collection;

        window.addDoc = addDoc;

        window.serverTimestamp = serverTimestamp;

        window.setLogLevel = setLogLevel;



        // The global environment variables provided by the canvas are stored here.

        // For a public deployment, these MUST be replaced with your actual public Firebase credentials.

        window.__app_id = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        window.__firebase_config = typeof __firebase_config !== 'undefined' ? __firebase_config : '{}';

        window.__initial_auth_token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

    </script>

   

    <!-- 2. The Entire React Application Code (ECommerceApp.jsx content merged here) -->

    <script type="text/babel">

        // --- Access Global Firebase Functions ---

        // Note: These variables are accessed globally instead of being imported

        // because the Babel script is running in the same scope as the Firebase setup block.

        const {

            initializeApp, getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged,

            getFirestore, collection, addDoc, serverTimestamp, setLogLevel

        } = window;



        const React = window.React;

        const { useState, useEffect, useMemo } = React;

        const ReactDOM = window.ReactDOM;



        // --- GLOBAL VARIABLES (Provided by Canvas Environment) ---

        const appId = window.__app_id;

        const firebaseConfig = JSON.parse(window.__firebase_config);

        const initialAuthToken = window.__initial_auth_token;

        // setLogLevel('Debug'); // Uncomment to see Firebase logs





        // ----------------------------------------------------------------------

        // ---------------------------- APP COMPONENT ---------------------------

        // ----------------------------------------------------------------------



        const App = () => {

          // --- Core State ---

          const [page, setPage] = useState('home'); // 'home', 'cart', 'checkout', 'contact', 'gallery'

          const [cart, setCart] = useState([]); // [{ productId, quantity }]

          const [message, setMessage] = useState(''); // Global notification/status message



          // --- Firebase State ---

          const [db, setDb] = useState(null);

          const [auth, setAuth] = useState(null);

          const [userId, setUserId] = useState(null);

          const [isAuthReady, setIsAuthReady] = useState(false);

         

          // --- Product Data Definition (Moved inside App for reliable path resolution) ---

          const initialProducts = useMemo(() => ([

            { id: 1, name: 'Gold Morse Code Necklace', price: 159.99, description: 'Elegant gold bar necklace, subtly encoding a name or message in dots and dashes.', image: 'uploaded:image_cdaedb.jpg-56aff221-eb61-4197-a9a7-914fe543a520' },

            { id: 2, name: 'Gold Morse Code Bracelet', price: 99.50, description: 'Delicate 14k gold chain bracelet, featuring a personalized Morse Code message.', image: 'uploaded:image_cdb1c3.jpg-b351fe91-bdd2-4f93-a23f-627f2348624a' },

            { id: 3, name: 'Silver Morse Code Necklace', price: 139.00, description: 'Polished silver necklace, transforming words into a sleek, customized pattern.', image: 'uploaded:image_cdaa40.jpg-2d9f9868-2981-4d02-8acf-0389bdc9e3c2' },

            { id: 4, name: 'Silver Cord Bracelet Set', price: 89.00, description: 'Multiple cord bracelets with silver elements, customizable for personalized names.', image: 'uploaded:image_cda3da.jpg-29d4be83-edc3-4ebb-ade8-34e17167b3eb' },

          ]), []);



          // --- Firebase Initialization and Authentication ---

          useEffect(() => {

            try {

              const app = initializeApp(firebaseConfig);

              const authInstance = getAuth(app);

              const dbInstance = getFirestore(app);



              setAuth(authInstance);

              setDb(dbInstance);



              // Listen for auth state changes to set userId

              const unsubscribe = onAuthStateChanged(authInstance, (user) => {

                if (user) {

                  setUserId(user.uid);

                } else {

                  // Fallback if no user is signed in

                  signInAnonymously(authInstance).then(anonUser => {

                    setUserId(anonUser.user.uid);

                  }).catch(err => console.error("Anonymous sign-in failed:", err));

                }

                setIsAuthReady(true);

              });



              // Attempt to sign in with custom token if available

              if (initialAuthToken) {

                signInWithCustomToken(authInstance, initialAuthToken)

                  .catch(error => {

                    console.error("Custom token sign in failed, falling back to anonymous:", error);

                    if (!authInstance.currentUser) {

                      signInAnonymously(authInstance).catch(err => console.error("Anonymous fallback failed:", err));

                    }

                  });

              } else if (!authInstance.currentUser) {

                 // Sign in anonymously if no token provided and no current user

                signInAnonymously(authInstance).catch(err => console.error("Initial anonymous sign-in failed:", err));

              }



              return () => unsubscribe();

            } catch (error) {

              console.error("Firebase initialization failed:", error);

              setMessage('Error: Failed to initialize database.');

            }

          }, []);



          // --- Cart Calculations ---

          const cartItems = useMemo(() => {

            return cart.map(item => {

              const product = initialProducts.find(p => p.id === item.productId);

              // Fallback for safety if product is removed but still in cart

              if (!product) return null;

              return {

                ...product,

                quantity: item.quantity,

                subtotal: product.price * item.quantity,

              };

            }).filter(item => item !== null);

          }, [cart, initialProducts]); // Added initialProducts to dependency array



          const cartTotal = useMemo(() => {

            return cartItems.reduce((total, item) => total + item.subtotal, 0);

          }, [cartItems]);





          // --- Cart Handlers ---

          const addToCart = (product) => {

            setCart(prevCart => {

              const existingItem = prevCart.find(item => item.productId === product.id);

              if (existingItem) {

                return prevCart.map(item =>

                  item.productId === product.id

                    ? { ...item, quantity: item.quantity + 1 }

                    : item

                );

              } else {

                return [...prevCart, { productId: product.id, quantity: 1 }];

              }

            });

            setMessage(`${product.name} added to cart!`);

          };



          const updateQuantity = (productId, quantity) => {

            setCart(prevCart => {

              if (quantity <= 0) {

                return prevCart.filter(item => item.productId !== productId);

              }

              return prevCart.map(item =>

                item.productId === productId ? { ...item, quantity } : item

              );

            });

          };



          const clearCart = () => {

            setCart([]);

            setMessage('Cart cleared.');

          };



          // --- Firestore Functions ---



          const submitOrder = async (orderData) => {

            if (!db || !userId) {

              setMessage('Database not ready. Please wait for authentication.');

              return;

            }

            try {

              // Data stored in the user's private collection

              const ordersRef = collection(db, `artifacts/${appId}/users/${userId}/orders`);

              await addDoc(ordersRef, {

                ...orderData,

                userId: userId,

                appId: appId,

                timestamp: serverTimestamp(),

              });

              setMessage('Order submitted successfully! (Stored in Firestore)');

              clearCart();

              setPage('home');

            } catch (e) {

              console.error("Error submitting order:", e);

              setMessage('Error submitting order. Check console.');

            }

          };



          const submitContact = async (formData) => {

            if (!db || !userId) {

              setMessage('Database not ready. Please wait for authentication.');

              return false;

            }

            try {

              // Data stored in the user's private collection

              const contactRef = collection(db, `artifacts/${appId}/users/${userId}/contact_messages`);

              await addDoc(contactRef, {

                ...formData,

                userId: userId,

                appId: appId,

                timestamp: serverTimestamp(),

              });

              setMessage('Message sent! We will be in touch. (Stored in Firestore)');

              return true;

            } catch (e) {

              console.error("Error adding document: ", e);

              setMessage('Error sending message. Check console.');

              return false;

            }

          };



          // --- UI Components ---



          const Navbar = () => (

            <nav className="bg-white shadow-lg sticky top-0 z-10">

              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

                <div className="flex justify-between items-center h-16">

                  <div className="flex-shrink-0">

                    <button onClick={() => setPage('home')} className="text-2xl font-bold text-pink-600 hover:text-pink-800 transition duration-150">

                      Gleam & Co. (Morse Code)

                    </button>

                  </div>

                  <div className="flex space-x-6">

                    <NavLink pageName="Shop Now" target="home" />

                    <NavLink pageName="Gallery" target="gallery" />

                    <NavLink pageName="Contact Us" target="contact" />

                    <button onClick={() => setPage('cart')} className="relative p-2 text-gray-700 hover:text-pink-600 transition duration-150 rounded-full">

                      <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>

                        <path strokeLinecap="round" strokeLinejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />

                      </svg>

                      {cart.length > 0 && (

                        <span className="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-pink-600 rounded-full">

                          {cart.reduce((total, item) => total + item.quantity, 0)}

                        </span>

                      )}

                    </button>

                  </div>

                </div>

              </div>

            </nav>

          );



          const NavLink = ({ pageName, target }) => (

            <button

              onClick={() => setPage(target)}

              className={`text-gray-900 px-3 py-2 text-sm font-medium transition duration-150 rounded-lg ${page === target ? 'bg-pink-100 text-pink-700 font-semibold' : 'hover:bg-gray-100'}`}

            >

              {pageName}

            </button>

          );



          const ProductCard = ({ product }) => (

            <div className="bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.02] transition duration-300">

              <img

                src={product.image}

                alt={product.name}

                className="w-full h-48 object-cover"

                onError={(e) => {e.target.onerror = null; e.target.src="https://placehold.co/400x300/e5e7eb/4b5563?text=Image+Not+Found"}}

              />

              <div className="p-5">

                <h3 className="text-xl font-semibold text-gray-900 mb-1">{product.name}</h3>

                <p className="text-sm text-gray-500 h-10 overflow-hidden">{product.description}</p>

                <div className="flex justify-between items-center mt-4">

                  <span className="text-2xl font-bold text-pink-600">${product.price.toFixed(2)}</span>

                  <button

                    onClick={() => addToCart(product)}

                    className="bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-0.5"

                  >

                    Add to Cart

                  </button>

                </div>

              </div>

            </div>

          );



          const Home = () => (

            <div className="py-12 px-4 sm:px-6 lg:px-8">

              <h1 className="text-4xl font-extrabold text-gray-900 text-center mb-4">Personalized Morse Code Jewelry</h1>

              <p className="text-xl text-gray-600 text-center mb-10">Convert any name or secret message into a beautiful, wearable piece. Dots and dashes, decoded by heart.</p>

              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto">

                {initialProducts.map(p => <ProductCard key={p.id} product={p} />)}

              </div>

              <div className="max-w-xl mx-auto mt-12 p-6 bg-yellow-50 rounded-xl border border-yellow-200">

                <h3 className="text-xl font-bold text-yellow-800 mb-2 text-center">What is Morse Code Jewelry?</h3>

                <p className="text-gray-700 text-center">

                  Each piece uses small beads (dots) and short tube segments (dashes) to represent the letters of a word. Itâ€™s a secret, meaningful way to wear someone's name or a special date.

                </p>

              </div>

            </div>

          );



          const Gallery = () => {

            // Gallery images are now dynamically pulled from initialProducts for consistency

            const galleryImages = initialProducts.map(p => ({

                id: p.id,

                // Shortened caption for gallery view

                caption: `${p.name}: Customized for your name. We work with the Morse Code (dots and charts).`,

                url: p.image,

            }));



            return (

              <div className="py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">

                <h1 className="text-4xl font-extrabold text-gray-900 text-center mb-4">Customer Spotlight Gallery</h1>

                <p className="text-xl text-gray-600 text-center mb-10">

                  See how our personalized Morse Code jewelry looks when worn.

                </p>

                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

                  {galleryImages.map((image) => (

                    <div key={image.id} className="bg-white rounded-xl shadow-2xl overflow-hidden">

                      <div className="aspect-square">

                          <img

                            src={image.url}

                            alt={image.caption}

                            className="w-full h-full object-cover transition duration-300 hover:scale-105"

                            onError={(e) => {e.target.onerror = null; e.target.src="https://placehold.co/400x400/e5e7eb/4b5563?text=Image+Load+Error"}}

                          />

                      </div>

                      <div className="p-4 text-center">

                         <p className="text-sm text-gray-800 font-medium">{image.caption}</p>

                      </div>

                    </div>

                  ))}

                </div>

               

                <div className="text-center mt-12">

                    <h3 className="text-2xl font-bold text-pink-600 mb-4">Ready for Your Own Secret Message?</h3>

                    <button

                        onClick={() => setPage('home')}

                        className="px-8 py-3 bg-pink-600 text-white font-bold rounded-lg shadow-xl hover:bg-pink-700 transition duration-300 transform hover:-translate-y-0.5"

                    >

                        Start Customizing Now

                    </button>

                </div>

              </div>

            );

          };



          const Cart = () => (

            <div className="max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8">

              <h1 className="text-3xl font-bold text-gray-900 mb-8">Your Shopping Cart</h1>



              {cartItems.length === 0 ? (

                <div className="text-center py-10 bg-gray-50 rounded-xl shadow-inner">

                  <p className="text-xl text-gray-600 mb-4">Your cart is currently empty.</p>

                  <button onClick={() => setPage('home')} className="text-pink-600 hover:text-pink-800 font-medium">

                    Continue Shopping

                  </button>

                </div>

              ) : (

                <>

                  <div className="space-y-6">

                    {cartItems.map(item => (

                      <div key={item.id} className="flex items-center bg-white p-4 rounded-xl shadow-md">

                        <img src={item.image} alt={item.name} className="w-20 h-20 object-cover rounded-lg mr-6" />

                        <div className="flex-1">

                          <h3 className="text-lg font-semibold text-gray-900">{item.name}</h3>

                          <p className="text-gray-600">${item.price.toFixed(2)}</p>

                        </div>

                        <div className="flex items-center space-x-4">

                          <input

                            type="number"

                            value={item.quantity}

                            min="1"

                            onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}

                            className="w-16 p-2 border border-gray-300 rounded-lg text-center"

                          />

                          <span className="text-lg font-bold w-20 text-right">${item.subtotal.toFixed(2)}</span>

                          <button

                            onClick={() => updateQuantity(item.id, 0)}

                            className="text-red-500 hover:text-red-700 p-2 rounded-full transition duration-150"

                            aria-label="Remove item"

                          >

                            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>

                          </button>

                        </div>

                      </div>

                    ))}

                  </div>



                  <div className="mt-8 pt-6 border-t border-gray-200 flex justify-between items-center">

                    <h2 className="text-2xl font-bold text-gray-900">Cart Total:</h2>

                    <span className="text-3xl font-extrabold text-pink-600">${cartTotal.toFixed(2)}</span>

                  </div>

                  <div className="mt-6 flex justify-end space-x-4">

                    <button

                        onClick={clearCart}

                        className="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition duration-150"

                    >

                        Clear Cart

                    </button>

                    <button

                      onClick={() => setPage('checkout')}

                      className="px-8 py-3 bg-pink-600 text-white font-bold rounded-lg shadow-xl hover:bg-pink-700 transition duration-300 transform hover:-translate-y-0.5"

                    >

                      Proceed to Checkout

                    </button>

                  </div>

                </>

              )}

            </div>

          );



          const Checkout = () => {

            const [name, setName] = useState('');

            const [address, setAddress] = useState('');

            const [cardNumber, setCardNumber] = useState('');

            const [isProcessing, setIsProcessing] = useState(false);



            const handlePayment = async (e) => {

              e.preventDefault();

              if (cartItems.length === 0) {

                setMessage('Your cart is empty. Cannot checkout.');

                setPage('home');

                return;

              }

              setIsProcessing(true);

              setMessage('Processing payment...');



              // --- Payment Simulation & Order Submission to Firestore ---

              const orderData = {

                customerName: name,

                shippingAddress: address,

                items: cartItems.map(item => ({

                  name: item.name,

                  quantity: item.quantity,

                  price: item.price,

                })),

                total: cartTotal,

                // Card number stored as hash/last 4 digits only in a real scenario

                paymentMethod: `Card ending in XXXX${cardNumber.slice(-4)}`,

                status: 'Pending',

              };



              await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate network delay

              await submitOrder(orderData); // Submit to Firestore

              setIsProcessing(false);

              // submitOrder handles message and page change

            };



            return (

              <div className="max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8">

                <h1 className="text-3xl font-bold text-gray-900 mb-8">Secure Checkout</h1>

                <div className="bg-white p-8 rounded-xl shadow-2xl">

                  <div className="mb-6 pb-4 border-b border-gray-200">

                    <h2 className="text-2xl font-semibold text-gray-800">Order Summary</h2>

                    <ul className="mt-4 space-y-2">

                      {cartItems.map(item => (

                        <li key={item.id} className="flex justify-between text-gray-600">

                          <span>{item.name} x {item.quantity}</span>

                          <span>${item.subtotal.toFixed(2)}</span>

                        </li>

                      ))}

                    </ul>

                    <div className="flex justify-between text-xl font-bold mt-4 pt-2 border-t border-dashed border-gray-300">

                      <span>Grand Total:</span>

                      <span className="text-pink-600">${cartTotal.toFixed(2)}</span>

                    </div>

                  </div>



                  <form onSubmit={handlePayment} className="space-y-6">

                    <h2 className="text-2xl font-semibold text-gray-800">Shipping & Payment</h2>

                    <div>

                      <label htmlFor="name" className="block text-sm font-medium text-gray-700">Full Name</label>

                      <input type="text" id="name" value={name} onChange={(e) => setName(e.target.value)} required

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      />

                    </div>

                    <div>

                      <label htmlFor="address" className="block text-sm font-medium text-gray-700">Shipping Address</label>

                      <textarea id="address" value={address} onChange={(e) => setAddress(e.target.value)} rows="3" required

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      ></textarea>

                    </div>

                    <div>

                      <label htmlFor="card" className="block text-sm font-medium text-gray-700">Payment (Simulated Card Number)</label>

                      <input type="text" id="card" value={cardNumber} onChange={(e) => setCardNumber(e.target.value)} required

                        pattern="\d{16}" maxLength="16" placeholder="16-digit card number"

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      />

                    </div>

                    <button

                      type="submit"

                      disabled={isProcessing || cartItems.length === 0}

                      className={`w-full py-3 font-bold rounded-lg shadow-xl transition duration-300 ${

                        isProcessing || cartItems.length === 0

                        ? 'bg-gray-400 text-gray-600 cursor-not-allowed'

                        : 'bg-green-600 hover:bg-green-700 text-white transform hover:-translate-y-0.5'

                      }`}

                    >

                      {isProcessing ? 'Processing...' : `Pay $${cartTotal.toFixed(2)}`}

                    </button>

                  </form>

                </div>

              </div>

            );

          };



          const ContactUs = () => {

            const [name, setName] = useState('');

            const [email, setEmail] = useState('');

            const [messageText, setMessageText] = useState('');

            const [isSubmitting, setIsSubmitting] = useState(false);



            const handleSubmit = async (e) => {

              e.preventDefault();

              setIsSubmitting(true);

              const success = await submitContact({ name, email, message: messageText });

              setIsSubmitting(false);

              if (success) {

                setName('');

                setEmail('');

                setMessageText('');

              }

            };



            return (

              <div className="max-w-xl mx-auto py-12 px-4 sm:px-6 lg:px-8">

                <h1 className="text-3xl font-bold text-gray-900 mb-8 text-center">Get in Touch</h1>

                <div className="bg-white p-8 rounded-xl shadow-2xl">

                  <form onSubmit={handleSubmit} className="space-y-6">

                    <div>

                      <label htmlFor="contact-name" className="block text-sm font-medium text-gray-700">Name</label>

                      <input type="text" id="contact-name" value={name} onChange={(e) => setName(e.target.value)} required

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      />

                    </div>

                    <div>

                      <label htmlFor="contact-email" className="block text-sm font-medium text-gray-700">Email</label>

                      <input type="email" id="contact-email" value={email} onChange={(e) => setEmail(e.target.value)} required

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      />

                    </div>

                    <div>

                      <label htmlFor="contact-message" className="block text-sm font-medium text-gray-700">Message</label>

                      <textarea id="contact-message" value={messageText} onChange={(e) => setMessageText(e.target.value)} rows="4" required

                        className="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500"

                      ></textarea>

                    </div>

                    <button

                      type="submit"

                      disabled={isSubmitting}

                      className={`w-full py-3 font-bold rounded-lg shadow-lg transition duration-300 ${

                        isSubmitting

                        ? 'bg-gray-400 text-gray-600 cursor-not-allowed'

                        : 'bg-pink-600 hover:bg-pink-700 text-white transform hover:-translate-y-0.5'

                      }`}

                    >

                      {isSubmitting ? 'Sending...' : 'Send Message'}

                    </button>

                  </form>

                  <p className="text-sm text-gray-500 mt-4 text-center">

                    Your message will be securely stored in your private Firestore database.

                  </p>

                  <p className="text-xs text-center mt-2 p-1 bg-gray-100 rounded-md">

                    Current User ID: {userId || 'Authenticating...'}

                  </p>

                </div>

              </div>

            );

          };



          const Footer = () => (

            <footer className="bg-gray-800 text-white mt-12">

              <div className="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">

                <p className="text-sm">

                  &copy; {new Date().getFullYear()} Gleam & Co. | Built with React, Tailwind, and Firestore.

                </p>

                <p className="text-xs mt-2 text-gray-400">

                    Database Status: {isAuthReady ? (db ? 'Connected' : 'Error') : 'Initializing...'}

                </p>

              </div>

            </footer>

          );



          // --- Main Render Logic ---

          const renderPage = () => {

            switch (page) {

              case 'cart':

                return <Cart />;

              case 'checkout':

                return <Checkout />;

              case 'contact':

                return <ContactUs />;

              case 'gallery':

                return <Gallery />;

              case 'home':

              default:

                return <Home />;

            }

          };



          return (

            <div className="min-h-screen bg-gray-50 font-sans">

              <style>{`

                /* Global Inter Font & Reset */

                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

                body { font-family: 'Inter', sans-serif; }

                /* Simple focus style for better UX */

                *:focus { outline-color: #ec4899; }

              `}</style>

              <Navbar />



              {/* Global Status Message */}

              {message && (

                <div className="fixed top-20 left-1/2 transform -translate-x-1/2 bg-pink-500 text-white px-6 py-3 rounded-full shadow-xl z-50 transition-all duration-300 opacity-95">

                  {message}

                </div>

              )}



              <main className="pb-12">

                {renderPage()}

              </main>



              <Footer />

            </div>

          );

        };

       

        // --- 3. Mount the React component to the DOM ---

        const rootElement = document.getElementById('root');

        ReactDOM.createRoot(rootElement).render(<App />);

       

        // Make the app visible after rendering starts

        rootElement.classList.add('loaded');

    </script>

</body>

</html>
